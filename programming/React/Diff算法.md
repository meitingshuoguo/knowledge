### 优化策略
1.  Web UI 中 DOM 节点跨层级的移动操作特别少，可以忽略不计。
2.  两个不同类型的元素会产生出不同的树
3. 通过设置 `key` 属性，来告知哪些子元素在不同的渲染下可以保持不变


### tree diff
基于策略1，React 对树的算法进行了简洁明了的优化，即对树进行分层比较，两棵树只会对同一层次的节点进行比较。

### component diff
- 同一类型的组件，按照原策略继续比较 virtual DOM tree。
	- 比较两次的子元素，就需要key来提高效率
	- 如果没有任何变化，用shouldComponentUpdate() 来判断该组件是否需要进行 diff。
- 不同类型组件，则将该组件判断为 dirty component，从而替换整个组件下的所有子节点。

### element diff
- 对比不同类型的元素：React 会拆卸原有的树并且建立起新的树。
- 对比两个相同类型的元素时：React 会保留 DOM 节点，仅比对及更新有改变的属性。